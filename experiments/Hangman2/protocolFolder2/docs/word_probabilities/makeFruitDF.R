library(tidyverse)

fruit_from_wiki <- "*[[Abiu]]
*[[Acai]]
*[[Acerola]]
*[[Akebi]]
*[[Ackee]]
*[[African Cherry Orange]]
*[[American Mayapple]]
*[[Apple]]
*[[Apricot]]
*[[Araza]]
*[[Avocado]]
*[[Banana]]
*[[Bilberry]]
*[[Blackberry]]
*[[Blackcurrant]]
*[[Black sapote]]
*[[Blueberry]]
*[[Boysenberry]]
*[[Breadfruit]]
*[[Buddhas hand]]
*[[Cactus pear]]
*[[Canistel]]
*[[Cashew]]
*[[Cempedak]]
*[[Cherimoya]]
*[[Cherry]]
*[[Chico fruit]]
*[[Cloudberry]]
*[[Coco De Mer]]
*[[Coconut]]
*[[Crab apple]]
*[[Cranberry]]
*[[Currant]]
*[[Damson]]
*[[Date palm|Date]]
*[[Dragonfruit]]
*[[Pitaya]]
*[[Durian]]
*[[Egg Fruit]]
*[[Elderberry]]
*[[Feijoa]]
*[[Fig]]
*[[Finger Lime]]
*[[Caviar Lime]]
*[[Goji berry]]
*[[Gooseberry]]
*[[Grape]]
*[[Raisin]]
*[[Grapefruit]]
*[[Grewia asiatica (phalsa or falsa)]]
*[[Guava]]
*[[Hala Fruit]]
*[[Honeyberry]]
*[[Huckleberry]]
*[[Jabuticaba]]
*[[Jackfruit]]
*[[Jambul]]
*[[Japanese plum]]
*[[Jostaberry]]
*[[Jujube]]
*[[Juniper berry]]
*[[Kaffir Lime]]
*[[Kiwano]]
*[[Kiwifruit]]
*[[Kumquat]]
*[[Lemon]]
*[[Lime]]
*[[Loganberry]]
*[[Longan]]
*[[Loquat]]
*[[Lulo]]
*[[Lychee]]
*[[Magellan Barberry]]
*[[Mamey Apple]]
*[[Mamey Sapote]]
*[[Mango]]
*[[Mangosteen]]
*[[Marionberry]]
*[[Melon]]
**[[Cantaloupe]]
**[[Galia melon]]
**[[Honeydew]]
**[[Mouse melon]]
**[[Musk melon]]
**[[Watermelon]]
*[[Miracle fruit]]
*[[Momordica fruit]]
*[[Monstera deliciosa]]
*[[Mulberry]]
*[[Nance]]
*[[Nectarine]]
*[[Orange]]
**[[Blood orange]]
**[[Clementine]]
**[[Mandarine]]
**[[Tangerine]]
*[[Papaya]]
*[[Passionfruit]]
*[[Pawpaw]]
*[[Peach]]
*[[Pear]]
*[[Persimmon]]
*[[Plantain]]
*[[Plum]]
**[[Prune]]
*[[Pineapple]]
*[[Pineberry]]
*[[Plumcot]]
*[[Pomegranate]]
*[[Pomelo]]
*[[Purple mangosteen]]
*[[Quince]]
*[[Raspberry]]
**[[Salmonberry]]
*[[Rambutan]]
*[[Redcurrant]]
*[[Rose apple]]
*[[Salal]] berry
*[[Salak]]
*[[Sapodilla]]
*[[Sapote]]
*[[Satsuma]]
*[[Shine Muscat]]
*[[Sloey]]
*[[Soursop]]
*[[Star apple]]
*[[Star fruit]]
*[[Strawberry]]
*[[Surinam cherry]]
*[[Tamarillo]]
*[[Tamarind]]
*[[Tangelo]]
*[[Tayberry]]
*[[Ugli fruit]]
*[[White currant]]
*[[White sapote]]
*[[Ximenia]]
*[[Yuzu]]}}
*[[Bell pepper]]
*[[Chile pepper]]
*[[Corn kernel]]
*[[Cucumber]]
*[[Eggplant]]
*[[Jalapeño]]
*[[Olive]]
*[[Pea]]
*[[Pumpkin]]
*[[Squash]]
*[[Tomato]]
*[[Zucchini]]}}
"

plural_fruit_from_wiki <- "*[[Abius]]
*[[Acais]]
*[[Acerolas]]
*[[Akebis]]
*[[Ackee]]
*[[African Cherry Oranges]]
*[[American Mayapples]]
*[[Apples]]
*[[Apricots]]
*[[Arazas]]
*[[Avocados]]
*[[Bananas]]
*[[Bilberries]]
*[[Blackberries]]
*[[Blackcurrants]]
*[[Black sapotes]]
*[[Blueberries]]
*[[Boysenberries]]
*[[Breadfruits]]
*[[Buddhas hands]]
*[[Cactus pears]]
*[[Canistels]]
*[[Cashews]]
*[[Cempedaks]]
*[[Cherimoyas]]
*[[Cherries]]
*[[Chico fruits]]
*[[Cloudberries]]
*[[Coco De Mers]]
*[[Coconuts]]
*[[Crab apples]]
*[[Cranberries]]
*[[Currants]]
*[[Damsons]]
*[[Dates]]
*[[Dragonfruits]]
*[[Pitayas]]
*[[Durians]]
*[[Egg Fruits]]
*[[Elderberries]]
*[[Feijoas]]
*[[Figs]]
*[[Finger Limes]]
*[[Caviar Limes]]
*[[Goji berries]]
*[[Gooseberries]]
*[[Grapes]]
*[[Raisins]]
*[[Grapefruits]]
*[[falsas]]
*[[Guavas]]
*[[Hala Fruits]]
*[[Honeyberries]]
*[[Huckleberries]]
*[[Jabuticabas]]
*[[Jackfruits]]
*[[Jambuls]]
*[[Japanese plums]]
*[[Jostaberries]]
*[[Jujubes]]
*[[Juniper berries]]
*[[Kaffir Limes]]
*[[Kiwanos]]
*[[Kiwifruits]]
*[[Kumquats]]
*[[Lemons]]
*[[Limes]]
*[[Loganberries]]
*[[Longans]]
*[[Loquats]]
*[[Lulos]]
*[[Lychees]]
*[[Magellan Barberries]]
*[[Mamey Apples]]
*[[Mamey Sapotes]]
*[[Mangos]]
*[[Mangosteens]]
*[[Marionberries]]
*[[Melons]]
**[[Cantaloupes]]
**[[Galia melons]]
**[[Honeydews]]
**[[Mouse melons]]
**[[Musk melons]]
**[[Watermelons]]
*[[Miracle fruits]]
*[[Momordica fruits]]
*[[Monstera deliciosas]]
*[[Mulberrys]]
*[[Nances]]
*[[Nectarines]]
*[[Oranges]]
**[[Blood oranges]]
**[[Clementines]]
**[[Mandarines]]
**[[Tangerines]]
*[[Papayas]]
*[[Passionfruits]]
*[[Pawpaws]]
*[[Peachs]]
*[[Pears]]
*[[Persimmons]]
*[[Plantains]]
*[[Plums]]
**[[Prunes]]
*[[Pineapples]]
*[[Pineberries]]
*[[Plumcots]]
*[[Pomegranates]]
*[[Pomelos]]
*[[Purple mangosteens]]
*[[Quinces]]
*[[Raspberries]]
**[[Salmonberries]]
*[[Rambutans]]
*[[Redcurrants]]
*[[Rose apples]]
*[[Salal berries]]
*[[Salaks]]
*[[Sapodillas]]
*[[Sapotes]]
*[[Satsumas]]
*[[Shine Muscats]]
*[[Sloeies]]
*[[Soursops]]
*[[Star apples]]
*[[Star fruits]]
*[[Strawberries]]
*[[Surinam cherries]]
*[[Tamarillos]]
*[[Tamarinds]]
*[[Tangelos]]
*[[Tayberries]]
*[[Ugli fruits]]
*[[White currants]]
*[[White sapotes]]
*[[Ximenias]]
*[[Yuzus]]}}
*[[Bell peppers]]
*[[Chile peppers]]
*[[Corn kernels]]
*[[Cucumbers]]
*[[Eggplants]]
*[[Jalapeños]]
*[[Olives]]
*[[Peas]]
*[[Pumpkins]]
*[[Squashes]]
*[[Tomatos]]
*[[Zucchinis]]}}
"

fruit_list <- fruit_from_wiki %>%
  str_replace_all("[[:punct:]]", "") %>%
  strsplit('\n')

fruit_list = fruit_list[[1]]

basic_fruit <- data.frame(word = tolower(fruit_list)) %>%
  mutate(score= 7)


plural_fruit_list <- plural_fruit_from_wiki %>%
  str_replace_all("[[:punct:]]", "") %>%
  strsplit('\n')

plural_fruit_list = plural_fruit_list[[1]]

basic_plural_fruit <- data.frame(word = tolower(plural_fruit_list)) %>%
  mutate(score= 100)


proto_fruit <- read.csv('word_lists/fruit_proto.csv')


word_df <- proto_fruit %>%
  bind_rows(basic_fruit) %>%
  bind_rows(basic_plural_fruit) %>%
  group_by(word)%>%
  summarize(score=min(score))%>%
  ungroup()%>%
  mutate(invscore=1/score,
         prior=invscore/sum(invscore)) %>%
  select(word, score, prior)


word_df %>%
  write.csv('word_lists/fruit.csv')

